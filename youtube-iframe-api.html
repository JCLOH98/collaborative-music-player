<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Video Duration</title>
</head>
<body>

<div id="player"></div>
<p id="video-duration"></p>
<p id="video-status"></p>

<script src="https://www.youtube.com/iframe_api"></script>

<script>
// Create a YouTube player
var player;

// This function is called when the YouTube API is ready
function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
        height: '390',
        width: '640',
        videoId: 'Kq0i9wAnxFg',  // Replace with the YouTube video ID
        events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange  // Listen for state changes (e.g., video finished)
        }
    });
}

// This function is called when the player is ready
function onPlayerReady(event) {
    var duration = event.target.getDuration();  // Get video duration in seconds
    var minutes = Math.floor(duration / 60);
    var seconds = Math.floor(duration % 60);
    document.getElementById('video-duration').innerText = `Video Duration: ${minutes} minutes ${seconds} seconds`;
}

// This function is called when the player's state changes (e.g., video ends)
function onPlayerStateChange(event) {
    // State codes:
    // 1 = Playing
    // 2 = Paused
    // 0 = Ended
    if (event.data == YT.PlayerState.ENDED) {
        document.getElementById('video-status').innerText = "Video has finished playing!";
    }
}
</script>

</body>
</html>
